<?php

final class VirtualHost extends WAObject
{
  public $name;

  private $def;
  private $errors = array();


  function __construct($def)
  {
    parent::__construct();
    if (self::$debug || $this->localdebug)
      $this->doDebug("VirtualHost->__construct($def)", WADebug::SYSTEM);

    $this->def = $def;

    // extract the error codes
    if ($def['error'])
    {
      foreach($def['error'] as $error)
      {
        $this->errors[$error['code']] = array('message' => $error['message'], 'template' => $error['template']);
      }
    }
  }

  public function getListeners()
  {
    return $this->def['listener'];
  }

  public function getHostNames()
  {
    return $this->def['hostname'];
  }

  public function getDocumentRoot()
  {
    return $this->def['documentroot'];
  }

  public function getIndex()
  {
    return $this->def['directoryindex'];
  }

  public function getModules()
  {
    return $this->def['module'];
  }

  public function getEntry($entry)
  {
    return $this->def[$entry];
  }

  public function getError($code)
  {
    if (isset($this->errors[$code]))
      return $this->errors[$code];
    return null;
  }

}

?>